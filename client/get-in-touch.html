<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BallotChain-Waitlist</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Mochiy+Pop+P+One&family=Montserrat&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.6.5/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
</head>
    <title>Wiatinglist</title>
</head>
<body>
  <!--Starting the Header-->
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="index.html" id="brand-logo">
        <img src="/client//images/Group 7.png" alt="BallotChain logo">
        <span id="logo-brand">BallotChain</span>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarText">
        <ul class="navbar-nav px-5  ms-auto ">
          <li class="nav-item px-3" id="nav-item1">
            <a class="nav-link active" aria-current="page" href="get-in-touch.html">
              Get in Touch</a>
          </li>
          <li class="nav-item" id="nav-item2">
            <a class="nav-link" href="index.html">
             Join the Waitlist</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
 
    <!---Starting the main-->

    <main>
    
      <div class="container"> 
      <form onsubmit="contactForm" id="contact-form">
        <div class="row">
       <div class="form-title ">
        <h3><strong>GET IN TOUCH</strong></h3>
        <p class="form-text">
          Exciting times are ahead! Join our wait list 
          to secure your spot for exclusive early access
          and stay in the loop on all things BallotChain 
          Lets shape the future of online voting together.
        </p>
      </div>

        <div class="row g-2">
          <div class="col-lg-6 md-4 sm-4">
            <input id="firstname" type="text" 
            class="form-control" 
            placeholder="First Name"
             name="firstname" Required>
          </div>

          <div class="col-lg-6 sm-4 md-4">
            <input id="lastname" type="text" 
            class="form-control" 
            placeholder="Last Name" 
            name="lastname" Required>
          </div>
        </div>

        <div class="row g-2 ">
          <div class="col-lg-6 md-4 sm-4">
            <input id="email" type="email" 
            class="form-control" 
            placeholder="Email"
             name="email" Required>
          </div>

          <div class="col-lg-6 md-4 sm-4">
            <input id="phone" type="number"
             class="form-control" 
             placeholder="Phone" 
             name="phone" Required>
          </div>
        </div>

        <div class="row g-2">
          <div class="col-lg-12 md-12 sm-8 xm-8">
            <textarea class="form-control" 
            id="message" rows="6" 
            placeholder="Message">
          </textarea>
          </div>
        </div>

        <div class="row g-2">
          <div class="col-lg-12 md-12 sm-8 d-grid">
            <button id="submit" type="submit"
            value="submit"
             class="btn btn-lg 
             btn-block">Submit</button>
          </div>
          <div class="message">
            <div class="success" id="success">
              Your Message was Successfully Sent
              <span class="check-icon"><img src="/client/images/check-mark.png"></span>
            </div>
            <div class="danger" id="danger">
              Fields can't be empty
            </div>
          </div>
        </div>
      </div>
  
      </form>
</main>

<!--Starting the footer-->
<footer>
  <div class="" id="social-icons">
      <div class="social-media-icons">
          <div>
              <a href="https://x.com/ballotchain?t=EEvYMwGP92DIJJG1ihNvKA&s=09"> <img src="images/x.png.png" alt="X"/></a>
          </div>

          <div>
              <a href="https://www.linkedin.com/company/ballotchain/"> <img src="images/linkdln.png.png" alt="linkdln"/></a>
          </div>

          <div>
              <a href="https://www.instagram.com/ballotchain?igsh=MW4zMnEzMmo2NWlsYw==
              "> <img src="images/instagram.png.png" alt="instagram"/></a>
          </div>
      </div>
  </div>
</div>
          </div>
      </div>
      </div>
</footer>


<script>

const contactForm = document.querySelector('#contact-form')

let firstname = document.getElementById('firstname')
let lastname = document.getElementById('lastname')
let email = document.getElementById('email')
let phone = document.getElementById('phone')
let message = document.getElementById('message')
let success = document.getElementById('success')
let danger = document.getElementById('danger')

contactForm.addEventListener('submit', async(e) => {
  e.preventDefault()
  
  let formData = {
    firstname: firstname.value,
    lastname: lastname.value,
    email: email.value,
    phone: phone.value,
    message: message.value

  }

  const success = document.getElementById('success')
  const danger = document.getElementById('danger')
  

  try {
    const response = await axios.post("http://localhost:4000/api/get-in-touch", formData)

    if(response === false) {
      return danger.style.display = 'block'
    }

    else  {
     
      setTimeout(() => {
      firstname.value = ""
      lastname.value = ""
      email.value = ""
      phone.value = ""
      message.value = ""
      }, 3000)
      
      setTimeout(() => {
        return success.style.display = 'block'
      }, 5000)
    }

    return JSON.stringify(response(formData))
    
  }catch(error) {
    console.log(error.message)
  }
})



</script>

</body>
</html>